[supervisord]
nodaemon=true
user=root

[program:nginx]
command=nginx -g "daemon off;"
autorestart=true
priority=10

[program:redis]
command=redis-server --requirepass ${REDIS_PASSWORD}
autorestart=true
priority=5

[program:postgres]
command=postgres -D /var/lib/postgresql/data
environment=PGDATA="/var/lib/postgresql/data"
autorestart=true
priority=5

[program:ollama]
command=ollama serve
autorestart=true
priority=15

[program:ollama-manager]
command=npm start
directory=/app
autorestart=true
priority=20

[program:evolution-api]
command=npm start
directory=/opt/evolution-api
environment=PORT="8080"
autorestart=true
priority=20

[program:n8n]
command=n8n
autorestart=true
priority=20
